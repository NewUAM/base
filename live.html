<!DOCTYPE html>
<html lang="ua">
<head>
  <meta charset="UTF-8">
  <title>test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #282626;
      color: #fff;
    }
    .group-block {
      background-color: #383838;
      padding: 20px;
      border-radius: 7px;
      margin-bottom: 20px;
    }
    .group-block h2 {
      margin: 0 0 20px 0;
      font-size: 24px;
    }
    .video-list {
      display: flex;
      gap: 20px;
      overflow-x: auto;
      padding-bottom: 10px;
    }
    .video-item {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  flex: 0 0 auto;
  width: 320px;
  height: 180px;
  background-color: #383838;
  border-radius: 7px;
  overflow: hidden;
}
    .cover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 7px;
  display: block;
}
    .play-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60px;
      height: 60px;
      background: rgba(0, 0, 0, 0.6);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2;
    }
    .play-button:before {
      content: "";
      display: inline-block;
      margin-left: 5px;
      border-style: solid;
      border-width: 12px 0 12px 20px;
      border-color: transparent transparent transparent #fff;
    }
    .video-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 2;
      transition: all 0.3s ease;
    }
    .video-container.floating {
  position: fixed;
  width: 320px !important;
  height: 180px !important;
  z-index: 1000 !important;
  cursor: grab;
}
.draggable-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  transform: translateY(100%);
  width: 100%;
}
.draggable-area {
  width: 100%;
  height: 30px;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: grab;
  user-select: none;
  border-bottom-left-radius: 7px;
  border-bottom-right-radius: 7px;
}
.draggable-area div {
  width: 50px;
  height: 4px;
  background: #ffffff;
  margin: 2px 0;
  border-radius: 2px;
}
    iframe {
      width: 100%;
      height: 100%;
      border-radius: 7px;
    }
    .floating-close {
      position: absolute;
      top: 5px;
      right: 5px;
      width: 30px;
      height: 30px;
      background: #ff4c4c;
      color: #fff;
      border: none;
      border-radius: 50%;
      font-size: 16px;
      cursor: pointer;
      z-index: 1010;
    }
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #282626;
    }
    ::-webkit-scrollbar-thumb {
      background-color: #d7da8b;
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background-color: #c6c979;
    }
  </style>
</head>
<body>
  <div id="content"></div>

  <script>
    const videos = [
      {group: "1914", id: "sFGoIdVCKds"},
{group: "АСАФАТОV", id: "UH2cma_5i5c"},
{group: "АСАФАТОV", id: "7goIwUm82DQ"},
{group: "АСАФАТОV", id: "-HdSSQwMtuE"},
{group: "АСАФАТОV", id: "cFYJYpYwGaw"},
{group: "АСАФАТОV", id: "Qp_dTLk2FvQ"},
{group: "8LIS5", id: "3JYphbaSBzk"},
{group: "Мері", id: "NTiJwhtUauE"},
{group: "Мері", id: "JxEhetug534"},
{group: "Мері", id: "4gJXD4nT3CY"},
{group: "Мері", id: "sbVVokDxvfw"},
{group: "Мері", id: "NdljHt3GR70"},
{group: "Восьмий День", id: "hwDxiXkfVt0"},
{group: "Восьмий День", id: "O2XDIJZQebw"},
{group: "Восьмий День", id: "o5KRdg0HmE4"},
{group: "Гапочка", id: "h2jSNq521i8"},
{group: "Гапочка", id: "bSk8pJSANdE"},
{group: "ДжессіДжем", id: "qq_POeIILek"},
{group: "ДжессіДжем", id: "r2JEEfso5QU"},
{group: "ДжессіДжем", id: "ry6CYGQ9abI"},
{group: "dity inzheneriv", id: "E21ZtX3E3RU"},
{group: "ЕЛЛІС", id: "ZP5Mu7Hw-FM"},
{group: "ЕМАЛЬ", id: "H8UBwoC0JCg"},
{group: "ЕМАЛЬ", id: "ZAbzvdRb5oc"},
{group: "Жадан і Собаки", id: "2dzCqkakgso"},
{group: "Fiolet", id: "10E8GGE-A6o"},
{group: "Fiolet", id: "GEpTl7qQezc"},
{group: "Fiolet", id: "E6fR5_k7cIc"},
{group: "краш тест", id: "G_KUNXBrbEs"},
{group: "Микола Пацюк", id: "o-KI-hutUpM"},
{group: "Obiymy Doschu", id: "XAV3V-_CeK0"},
{group: "Obiymy Doschu", id: "j6cprjePWgo"},
{group: "Obiymy Doschu", id: "U1XV7--gtRs"},
{group: "паліндром", id: "tFTwFAWAL7k"},
{group: "паліндром", id: "d8PZKMG0grw"},
{group: "The Кум", id: "FA9iXVOc6X0"},
{group: "The Кум", id: "lTcFMl9q-sk"},
{group: "Роялькіт", id: "a0r7_thy9Xg"},
{group: "Роялькіт", id: "3FsTpH2awjk"},
{group: "Роялькіт", id: "s8aTmfesFsQ"},
{group: "саметой", id: "ycCT1LaTBK0"},
{group: "Хмарно з Проясненнями", id: "cjyBghxXw8Y"},
{group: "Чиста Криниця", id: "loQg-2TIu-Q"},
{group: "Яка існуЄ", id: "RaG1jnXt85U"},
{group: "Яка існуЄ", id: "oAUIBbpaFiQ"},
{group: "Anton Purtseladze", id: "jY-4amhgdRY"},
{group: "AUDITORIA", id: "SnGVDkDEYmQ"},
{group: "AUDITORIA", id: "7oYRHMv5aTE"},
{group: "Ben Obert", id: "taIMq3e1vsU"},
{group: "Ben Obert", id: "Woeeoc-Zo1Y"},
{group: "Ben Obert", id: "OYS1TLEHK_8"},
{group: "Blast Shapes", id: "gYtidYVkSj8"},
{group: "Чумацький Шлях (CH.SH)", id: "dEkFNB0LNA8"},
{group: "Didodub", id: "094W9TGjF7o"},
{group: "Didodub", id: "pUZmacBP0mA"},
{group: "Didodub", id: "lTyeDdIn7hc"},
{group: "DIZHAK", id: "4TY4prCAM-Y"},
{group: "Drag Me Out", id: "ZeNHYrCidIE"},
{group: "Drag Me Out", id: "cOM0gvDWa6M"},
{group: "Dreadnought in the Pond", id: "TNExvaRgmk4"},
{group: "Dreadnought in the Pond", id: "w4Y_k6ZzlX0"},
{group: "Dreadnought in the Pond", id: "_xyCa0WXzhc"},
{group: "Dreadnought in the Pond", id: "srZ-uCR88js"},
{group: "Dreadnought in the Pond", id: "aN3xxSY46vI"},
{group: "éllia", id: "D5gWMqnz9wo"},
{group: "éllia", id: "-mPqsmqFPkM"},
{group: "éllia", id: "vRWId6iqy7s"},
{group: "éllia", id: "R6HTjGxn-hY"},
{group: "Epolets", id: "JHtRhLUXfII"},
{group: "Eye Tea", id: "GKfU09weZYU"},
{group: "Eye Tea", id: "vPzCtCUI-pg"},
{group: "Eye Tea", id: "PoCZj86YG6g"},
{group: "Ezra Fraze-Frazenko", id: "Q2vm63qFPhg"},
{group: "Ezra Fraze-Frazenko", id: "bvz91_zM8r4"},
{group: "Ezra Fraze-Frazenko", id: "eRkI2A_uNFI"},
{group: "Ezra Fraze-Frazenko", id: "oAaJ1MBswnw"},
{group: "Ezra Fraze-Frazenko", id: "HLrOoR2HR_Y"},
{group: "Ezra Fraze-Frazenko", id: "GcOmVLeeZ2I"},
{group: "Ezra Fraze-Frazenko", id: "AvD22OOmDjo"},
{group: "Ezra Fraze-Frazenko", id: "7Druw75QKo0"},
{group: "Ezra Fraze-Frazenko", id: "Qz9gL9syW-E"},
{group: "Ezra Fraze-Frazenko", id: "fgNdYTuxKIw"},
{group: "Ezra Fraze-Frazenko", id: "mkox0y9VDy8"},
{group: "Ezra Fraze-Frazenko", id: "MMB30laC2Dw"},
{group: "Fadelights", id: "JDIAoIPkws4"},
{group: "Fadelights", id: "ful_bIuesIk"},
{group: "Fateful", id: "yuXL9G6dPdA"},
{group: "FliT", id: "xV3ecZTwbXk"},
{group: "Gránat", id: "Lt6Cr_2HyTo"},
{group: "Gránat", id: "eVUNeKOlt3A"},
{group: "Gránat", id: "_B30kXhf4Uc"},
{group: "Grandma'pick", id: "g53CguDIHYk"},
{group: "Green Smile Mind", id: "Bg7SkBHfaAY"},
{group: "hackedface", id: "KipH-eY38BI"},
{group: "hurtom", id: "tD6Yb2DHCYY"},
{group: "I Hate Myself Because", id: "OMmcSKFUu9U"},
{group: "I Hate Myself Because", id: "qn3YSkRabLY"},
{group: "I Hate Myself Because", id: "Ll76nJhtubc"},
{group: "Ignea", id: "mUCyMH-Q_bg"},
{group: "Ignea", id: "Xv5dTt_uyqM"},
{group: "Ignea", id: "GghXFl1cWQg"},
{group: "Ignea", id: "N2YO9qvYcac"},
{group: "Ignea", id: "Zk6rjRoFc1o"},
{group: "Ignea", id: "PogzrU8WPjo"},
{group: "Incomer", id: "NXDf0otghyE"},
{group: "Incomer", id: "vuf3g_dVYZs"},
{group: "Incomer", id: "gOnnMFsi7tk"},
{group: "JAN!S", id: "Cz1zEfYp86o"},
{group: "JAN!S", id: "TjaqMIKNgq8"},
{group: "Jillhouse", id: "CPT1H8ef4II"},
{group: "JOUNT", id: "vIaO_pd1AEM"},
{group: "Krabfist", id: "hXAc-8DyhjA"},
{group: "Kroda", id: "3-EP1kYxwpY"},
{group: "Kthona", id: "Yt2y9c3HyI0"},
{group: "Lady Aphina", id: "169W8VgrmKY"},
{group: "Lady Aphina", id: "vNAEiWCfTt4"},
{group: "MapleMaps", id: "gHYFsD5k2Ls"},
{group: "MapleMaps", id: "RtmdPLuRGNE"},
{group: "MapleMaps", id: "pPDdFZcRDAQ"},
{group: "Lost Message", id: "pqztbfE4jRs"},
{group: "Lost Message", id: "gF-bEDRs0Ng"},
{group: "Lost Message", id: "gBCgJ_iNkQs"},
{group: "Lost Message", id: "FxG-DPuTDog"},
{group: "Love'n'Joy", id: "bgKywjoZFpM"},
{group: "Vagabond Specter", id: "bjt-pG1ILm0"},
{group: "Lybid_1", id: "AOfU1g3SyE0"},
{group: "Lybid_1", id: "fSEGs_TvOi0"},
{group: "Lybid_1", id: "zzMvP03Ag7s"},
{group: "Lybid_1", id: "oTEoolQZj6Y"},
{group: "Lybid_1", id: "_N_N8KBQQB4"},
{group: "Lybid_1", id: "UPnQBdKfitQ"},
{group: "MAZEPA", id: "o573DK3lvvA"},
{group: "MAZEPA", id: "_331iiu8Md0"},
{group: "MAZEPA", id: "YAEg3bLnrtQ"},
{group: "MAZEPA", id: "JGtqoIHsIu8"},
{group: "MAZEPA", id: "_FdABYRxkKY"},
{group: "MAZEPA", id: "eedn5I7-GYQ"},
{group: "MAZEPA", id: "DXa1uRW8oYk"},
{group: "MAZEPA", id: "F6f04mqDUrw"},
{group: "MAZEPA", id: "OXx_6Eij_nY"},
{group: "Merva", id: "Chcmf57jIlo"},
{group: "Merva", id: "rhLPJDlTTms"},
{group: "Mist Tower", id: "UcYgbe7doXg"},
{group: "Nick Lemon Band", id: "4Ee9iFs2z78"},
{group: "Nick Lemon Band", id: "D2J0maijNqw"},
{group: "ONE LIGHT INSIDE", id: "NtGnVMuBgkM"},
{group: "ONE LIGHT INSIDE", id: "mrqDqoE6kBk"},
{group: "ONE LIGHT INSIDE", id: "WJUMQoIXKbc"},
{group: "ONE LIGHT INSIDE", id: "EpR3M1CcbBk"},
{group: "ONE LIGHT INSIDE", id: "GbbPGRYYSqQ"},
{group: "Papa's Old Speaker", id: "a-5-QwCTYJ0"},
{group: "Papa's Old Speaker", id: "lPweGuzVI7M"},
{group: "POVYTA", id: "IfstPmv1rPQ"},
{group: "Rabbit Leader", id: "boCWGn5_B08"},
{group: "Rabbit Leader", id: "kRsS0v-uClA"},
{group: "Re-read", id: "83KOMjTCnHk"},
{group: "Re-read", id: "DKKCHyUIt6Q"},
{group: "REIVA", id: "5ksJTXH-pJ0"},
{group: "REIVA", id: "pISOlriFd2o"},
{group: "Reve ta Stohne", id: "E2fGebWbhyg"},
{group: "Reve ta Stohne", id: "lG13VM4-DOY"},
{group: "Reve ta Stohne", id: "oL079er057M"},
{group: "Reve ta Stohne", id: "CF6isg-29xw"},
{group: "SadSvit", id: "MIBU1nzRtIs"},
{group: "Sleep in Heads", id: "1BZqU2dKCqM"},
{group: "Space Of Variations", id: "8sLmHQIxD_Y"},
{group: "Space Of Variations", id: "FEIlfda3uQw"},
{group: "The Gitas", id: "6FuGv1mF1jE"},
{group: "The Hardkiss", id: "PJ5qk042lqY"},
{group: "The Hardkiss", id: "DdbJ13VWJpo"},
{group: "The Hardkiss", id: "hKkntMCJ6WU"},
{group: "The Hardkiss", id: "g4zoPK8y5fk"},
{group: "The Hardkiss", id: "AHyL5SqpjVc"},
{group: "The Hardkiss", id: "zcLy67DT0bw"},
{group: "The Hardkiss", id: "-89RzFyLiNo"},
{group: "The Hardkiss", id: "-nGCREdcmPc"},
{group: "The Hardkiss", id: "jwf6wYUVLXA"},
{group: "The Mova", id: "f7T_QdY1izc"},
{group: "The Rising Waters", id: "Ecluz_7x18U"},
{group: "The Rising Waters", id: "gI4ZQDWuGnE"},
{group: "The Rising Waters", id: "x7WL-itvjkQ"},
{group: "TOLOKA", id: "ET4BOPQyjfI"},
{group: "TOLOKA", id: "3Dh2REaMSws"},
{group: "TOLOKA", id: "DE6PMxbwcg4"},
{group: "TOLOKA", id: "2yCDBCrWKB4"},
{group: "Trip Inside Me", id: "3nTqv7RAHRU"},
{group: "Trip Inside Me", id: "2462xyTQWX8"},
{group: "Try Lying Awake", id: "7XnX_FYMJ2Y"},
{group: "VARTI", id: "VRmm57k0PCY"},
{group: "Violet Raymoor", id: "dCbrXFr-5dM"},
{group: "Violet Raymoor", id: "RhtdfE7uPTE"},
{group: "Way Station", id: "fwHCO8ZHlK0"},
{group: "Way Station", id: "wdfIodB0vCQ"},
{group: "-YCH", id: "P_m6HtyRGu4"},
{group: "-YCH", id: "_TulirSyog4"},
{group: "Стас Корольов", id: "mmfKJp_bmPY"},
{group: "КОМІЛЬФО", id: "2aZxj3Sou1U"},
{group: "КОМІЛЬФО", id: "sVvxaaw0XQE"},
{group: "КОМІЛЬФО", id: "CLXDpNlKGyQ"},
{group: "КОМІЛЬФО", id: "gb_EoeYNOAw"},
{group: "КОМІЛЬФО", id: "wjAvb5gO5IQ"},
{group: "ESQUIZET", id: "OCJZwqtcVDQ"},
{group: "5 Vymir", id: "s9VvWrrYias"},
{group: "5 Vymir", id: "swSwqQI3fJk"},
{group: "5 Vymir", id: "aY9aA30LRcQ"},
{group: "5 Vymir", id: "zMnZ-blwp1Y"},
{group: "Джозерс", id: "Qrs2EJ6ryAg"},
{group: "Леді Джанк", id: "-l8Vo_d2RHs"},
{group: "Леді Джанк", id: "XR2qeZaina0"},
{group: "Osnova", id: "Ccvu4ms4K80"},
{group: "Secret Avenue", id: "v--CWhgEVR8"},
{group: "#ShameOnYou", id: "igKjiWTHI6A"},
{group: "0%Mercury", id: "QiubLjkwUU4"},
{group: "Бери Своє", id: "1K37PrkhMhk"},
{group: "Апатія", id: "Nd_7q_Rz4tc"},
{group: "Безодня", id: "QV9naImXVfE"},
{group: "Гапочка", id: "tMSOmtzg0dE"},
{group: "Гапочка", id: "XgZbf416-VI"},
{group: "Zlypni", id: "Au-KGUW5uZo"},
{group: "Джеронімо", id: "XBH72op3Zq8"},
{group: "Джеронімо", id: "3aQjj-TDub8"},
{group: "ЕЛЛІС", id: "YVuZOixTcFc"},
{group: "Жадан і Собаки", id: "CIi4KsNEXmg"},
{group: "Жадан і Собаки", id: "IWV91uK4bcA"},
{group: "Жадан і Собаки", id: "1RuvtemEkOE"},
{group: "Жадан і Собаки", id: "oazSjgPl1D8"},
{group: "КораЛЛі", id: "fEUQyhSObMg"},
{group: "КораЛЛі", id: "Fdjssxc32_k"},
{group: "КораЛЛі", id: "518loaYFddk"},
{group: "КораЛЛі", id: "mDxT4VS3KXs"},
{group: "Крихітка", id: "PWmSUW09xZE"},
{group: "Оркестр Че", id: "H5wwDLwH_80"},
{group: "ОТРУТА", id: "lAmItCRcFoQ"},
{group: "паліндром", id: "bq6QlN_nNaE"},
{group: "Робаний Йот", id: "MX6951cmomo"},
{group: "Тимчасові Електромережі", id: "__tZnIr3s3w"},
{group: "Ульмо Три", id: "VshJuOdi8Wg"},
{group: "Alinda", id: "46punelmdOQ"},
{group: "Alinda", id: "rrioGe5XVys"},
{group: "Alinda", id: "oZR9pEaIMOo"},
{group: "Alinda", id: "5tBxZsG7GcE"},
{group: "Andrew Bear", id: "E2PI05YgchE"},
{group: "Bahroma", id: "65BrBn_1-_0"},
{group: "Battle Axe Culture", id: "IG-3-u4w9XM"},
{group: "Battle Axe Culture", id: "OItPNG1XAMw"},
{group: "Battle Axe Culture", id: "c78Llb-3UWs"},
{group: "Battle Axe Culture", id: "lOZkDY2xLX8"},
{group: "Battle Axe Culture", id: "ViRayMVKx9o"},
{group: "Ben Obert", id: "qI1clkC834w"},
{group: "Blackstone Road", id: "yZlITuwR31Y"},
{group: "BLIND8", id: "IIpcLdAybgM"},
{group: "BLIND8", id: "bGg0i1Yq07k"},
{group: "BLIND8", id: "rRT5kh0wFBM"},
{group: "BLIND8", id: "b4t50ZDuDXg"},
{group: "Bloom Twins", id: "QLi4RE2luXc"},
{group: "Bloom Twins", id: "eenzg0s6NjI"},
{group: "Bloom Twins", id: "P7RWS51oprw"},
{group: "Bloom Twins", id: "0oohkR7VyCE"},
{group: "Bomg", id: "UbBOgCj81VI"},
{group: "Braii", id: "6zk0g3PLadg"},
{group: "Braii", id: "g2qK0gRTZ54"},
{group: "Burned Time Machine", id: "tqwsmPoz-dk"},
{group: "Stoneganj", id: "wGMjo_1VZqg"},
{group: "Chains of Memories", id: "xv97FBotB-U"},
{group: "Cherry-Merry", id: "4_u1M26tHMA"},
{group: "TIK", id: "EhLMSg8ZOso"},
{group: "Cold Comfort", id: "BnHts5AQE-Q"},
{group: "Defective", id: "0wA6Rcv40hI"},
{group: "Dreadnought in the Pond", id: "bbZmOOIpmfI"},
{group: "E.K.A", id: "cG-Bci40Dtk"},
{group: "E.K.A", id: "_Qil8pgR1YQ"},
{group: "E.K.A", id: "rHS6XnMSQ1E"},
{group: "Elephant Opinions", id: "_gdhW7tHxq4"},
{group: "Elephant Opinions", id: "p9NTwogDwQY"},
{group: "Elephant Opinions", id: "09-zOSKJQxs"},
{group: "Elephant Opinions", id: "kByfjfPvKlY"},
{group: "Elephant Opinions", id: "CCIfD-9P2tA"},
{group: "Entree", id: "VeEj_uA4EDs"},
{group: "firejam", id: "TZdkNMk8xMo"},
{group: "firejam", id: "rwZsFaAlh3M"},
{group: "Fontaliza", id: "4qTVD7Z_ODE"},
{group: "Gooma", id: "YB7OObcPais"},
{group: "Harmata", id: "M8WyPhQNUoo"},
{group: "Harmata", id: "G9yTSW8fq7g"},
{group: "Harmata", id: "d5a1P3TlEX8"},
{group: "Hiels", id: "kOUeI4BVZcA"},
{group: "Joryj Kłoc", id: "PVHzRybjtzw"},
{group: "Karna", id: "pu9_v-c8byg"},
{group: "Karna", id: "S2cu7b11DOQ"},
{group: "Karna", id: "UDNBjvfiZqY"},
{group: "KLEFT", id: "wOy37NXuUJM"},
{group: "KLEFT", id: "6_MxvSBM-v4"},
{group: "KLEFT", id: "edqiqT778CE"},
{group: "La Horsa Bianca", id: "vCd66xEINBI"},
{group: "La Horsa Bianca", id: "UgRwKxITa1g"},
{group: "La Horsa Bianca", id: "Brj89zKFYJA"},
{group: "Labyrinthus Stellarum", id: "iCox4PoqBP4"},
{group: "LiveN", id: "iRmHTWlsuS8"},
{group: "Love'n'Joy", id: "uvw1QfIR6v0"},
{group: "Love'n'Joy", id: "NjKB3O7WJis"},
{group: "Love'n'Joy", id: "goP60lAwjGo"},
{group: "Luiku", id: "KHwQRT5lihA"},
{group: "Lvivdanceclub", id: "carAdaoa3Yc"},
{group: "Lvivdanceclub", id: "2P82XsWhsek"},
{group: "Lvivdanceclub", id: "9jSqpRT38cE"},
{group: "Lvivdanceclub", id: "_nXU81IBgqk"},
{group: "Man from Light", id: "099oUyvqf9w"},
{group: "Man from Light", id: "XDk1gPX95bA"},
{group: "Man from Light", id: "ZVkci8_vrbw"},
{group: "Man from Light", id: "grDP84G07gE"},
{group: "mandarinaduck", id: "84WfsrXZBms"},
{group: "MAZEPA", id: "NpWwC_nZE-8"},
{group: "Mother Witch & Dead Water Ghosts", id: "MTV0wYHKZNU"},
{group: "Mother Witch & Dead Water Ghosts", id: "AARWcaXItAc"},
{group: "Mother Witch & Dead Water Ghosts", id: "04W4ca5xazs"},
{group: "Mu2Moon", id: "4w83RPWcV4o"},
{group: "MY EX I", id: "dykFudcJewQ"},
{group: "MY EX I", id: "D_mPOWqk1ZA"},
{group: "My Personal Murderer", id: "3KRqcmppDVY"},
{group: "My Personal Murderer", id: "pe81NRTtxjw"},
{group: "Mzlv", id: "nf10X03AxT0"},
{group: "Mzlv", id: "vXLOxfYNHfI"},
{group: "O.Torvald", id: "Yxe8p-pz3fM"},
{group: "Octopus Kraft", id: "06APZSD0Ujw"},
{group: "Octopus Kraft", id: "Q1OjXZvuwtE"},
{group: "Octopus Kraft", id: "0QGJwbU-tI4"},
{group: "Octopus Kraft", id: "WfLTqGjZ_UM"},
{group: "Octopus Kraft", id: "AEKt5rfdiGY"},
{group: "Octopus Kraft", id: "-yvH7DuoqjI"},
{group: "Octopus Kraft", id: "J5rwtCta6HA"},
{group: "Odradek Room", id: "e6qgTaPvjlw"},
{group: "Odradek Room", id: "x4H7ReHLJzQ"},
{group: "Ogyda", id: "jMKZvCb_QzU"},
{group: "Ogyda", id: "cBKtcWClzCw"},
{group: "Ogyda", id: "aZ0wfkgo3CE"},
{group: "Olya Jaya", id: "AUAJiMRrK3I"},
{group: "Olya Jaya", id: "7qHQX9Zd2U0"},
{group: "Ownstone", id: "xSAj6PijCsg"},
    ];

    let currentVideoItem = null;
    let observer;

    function setPreview(videoItem) {
      const videoId = videoItem.dataset.videoId;
      videoItem.innerHTML = `
        <div class="cover">
          <img src="https://img.youtube.com/vi/${videoId}/hqdefault.jpg" alt="Видео">
          <div class="play-button"></div>
        </div>
      `;
      videoItem.onclick = () => playVideo(videoItem);
    }

    function revertToPreview(videoItem) {
  const videoId = videoItem.dataset.videoId;
  videoItem.innerHTML = `
    <div class="cover">
      <img src="https://img.youtube.com/vi/${videoId}/hqdefault.jpg" alt="Видео">
      <div class="play-button"></div>
    </div>
  `;
  
  videoItem.onclick = null;

  setTimeout(() => {
    videoItem.onclick = () => playVideo(videoItem);
  }, 0);
}


    function playVideo(videoItem) {
  const videoId = videoItem.dataset.videoId;

  videoItem.dataset.closed = "false";

  if (currentVideoItem && currentVideoItem !== videoItem) {
    revertToPreview(currentVideoItem);
    currentVideoItem = null;
  }

  currentVideoItem = videoItem;
  videoItem.innerHTML = `
    <div class="video-container">
      <iframe src="https://www.youtube.com/embed/${videoId}?autoplay=1" 
        frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen></iframe>
    </div>
  `;
  videoItem.onclick = null;

  observer.observe(videoItem);
}

    function moveToFloatingBlock(videoItem) {
      const container = videoItem.querySelector('.video-container');
      if (container && !container.classList.contains('floating')) {
        container.classList.add('floating');

        const savedPosition = JSON.parse(localStorage.getItem('floatingVideoPosition'));
        if (savedPosition) {
          container.style.left = `${savedPosition.x}px`;
          container.style.top = `${savedPosition.y}px`;
        } else {
          container.style.left = 'auto';
          container.style.top = '20px';
          container.style.right = '20px';
        }

        if (!container.querySelector('.draggable-area')) {
          const draggableArea = document.createElement('div');
          draggableArea.className = 'draggable-area';
          draggableArea.innerHTML = `
            <div></div>
            <div></div>
            <div></div>
          `;
          container.appendChild(draggableArea);

          let isDragging = false;
          let startX, startY;
          let currentX = 0, currentY = 0;

          draggableArea.addEventListener('mousedown', (e) => {
            isDragging = true;
            const containerRect = container.getBoundingClientRect();
            startX = e.clientX - containerRect.left;
            startY = e.clientY - containerRect.top;
            container.style.cursor = 'grabbing';
          });

          document.addEventListener('mousemove', (e) => {
            if (isDragging) {
              currentX = e.clientX - startX;
              currentY = e.clientY - startY;

              const containerRect = container.getBoundingClientRect();
              const draggableHeight = container.querySelector('.draggable-area').offsetHeight;
              const windowWidth = window.innerWidth;
              const windowHeight = window.innerHeight;

              currentX = Math.max(0, Math.min(currentX, windowWidth - containerRect.width));
              currentY = Math.max(0, Math.min(currentY, windowHeight - containerRect.height - draggableHeight));

              container.style.left = `${currentX}px`;
              container.style.top = `${currentY}px`;
              container.style.transform = 'none';

              localStorage.setItem('floatingVideoPosition', JSON.stringify({ x: currentX, y: currentY }));
            }
          });

          document.addEventListener('mouseup', () => {
            if (isDragging) {
              isDragging = false;
              container.style.cursor = 'grab';
            }
          });
        }

        if (!container.querySelector('.floating-close')) {
          const closeBtn = document.createElement('button');
          closeBtn.innerText = '✕';
          closeBtn.className = 'floating-close';
          closeBtn.onclick = () => {
  container.remove();
  if (currentVideoItem) {
    currentVideoItem.dataset.closed = "true";
    revertToPreview(currentVideoItem);
    currentVideoItem = null;
  }
};
          container.appendChild(closeBtn);
        }
      }
    }

    function revertFloating(videoItem) {
      const container = videoItem.querySelector('.video-container');
      if (container && container.classList.contains('floating')) {
        container.classList.remove('floating');
        container.style.left = 'auto';
        container.style.top = '0';
        container.style.right = 'auto';
        container.style.transform = 'translate(0, 0)';

        const draggableArea = container.querySelector('.draggable-area');
        if (draggableArea) draggableArea.remove();

        const closeBtn = container.querySelector('.floating-close');
        if (closeBtn) closeBtn.remove();
      }
    }

    function observeVideos() {
  if (observer) {
    observer.disconnect();
  }

  observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      const videoItem = entry.target;

      if (videoItem.dataset.closed === "true") {
        observer.unobserve(videoItem);
        return;
      }

      if (videoItem === currentVideoItem) {
        const container = videoItem.querySelector('.video-container');
        if (container) {
          if (!entry.isIntersecting && !container.classList.contains('floating')) {
            moveToFloatingBlock(videoItem);
          }
          if (entry.isIntersecting && container.classList.contains('floating')) {
            revertFloating(videoItem);
          }
        }
      }
    });
  }, { threshold: 0.5 });

  document.querySelectorAll('.video-item').forEach(videoItem => observer.observe(videoItem));
}

    const groupedVideos = {};
    videos.forEach(video => {
      if (!groupedVideos[video.group]) {
        groupedVideos[video.group] = [];
      }
      groupedVideos[video.group].push(video);
    });

    const content = document.getElementById('content');
    for (const group in groupedVideos) {
      const block = document.createElement('div');
      block.className = 'group-block';
      const title = document.createElement('h2');
      title.textContent = group;
      block.appendChild(title);
      const videoList = document.createElement('div');
      videoList.className = 'video-list';
      groupedVideos[group].forEach(video => {
        const videoItem = document.createElement('div');
        videoItem.className = 'video-item';
        videoItem.dataset.videoId = video.id;
        setPreview(videoItem);
        videoList.appendChild(videoItem);
      });
      block.appendChild(videoList);
      content.appendChild(block);
    }

    document.addEventListener('DOMContentLoaded', () => {
      observeVideos();
    });
</script>
<script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>
